{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "title":{
    "text": "morphbench 20 dilate rounds (GCE, Xeon Skylake, 7680x4320 65px)",
    "anchor": "middle"
  },
  "data": {
    "values": [
      {
        "set": "SSE2", "var": 4,
        "times": [4739.19, 4741.97, 4738.57, 4742.53, 4739.16, 4738.03, 4737.57, 4740.25, 4738.53, 4736.2, 4739.19, 4738.78, 4736.42, 4736.7, 4738.61, 4737.91, 4739.33, 4739.08, 4740.93, 4737.04]
      },
      {
        "set": "SSE2", "var": 6,
        "times": [3341.52, 3340.81, 3342.93, 3339.44, 3340.92, 3338.47, 3343.01, 3339.36, 3338.9, 3337.44, 3337.21, 3337.86, 3337.2, 3342.18, 3340.78, 3340.51, 3341.01, 3339.49, 3335.32, 3341.52]
      },
      {
        "set": "SSE2", "var": 8,
        "times": [2632.19, 2632.91, 2632.02, 2633.81, 2633.21, 2634.11, 2632.93, 2631.65, 2633.32, 2635.23, 2632.62, 2632.2, 2632.34, 2633.41, 2637.71, 2633.59, 2634.02, 2635.78, 2631.59, 2640.61]
      },
      {
        "set": "SSE2", "var": 12,
        "times": [1676.21, 1676.87, 1676.48, 1674.9, 1680.7, 1682.32, 1676.54, 1675.88, 1676.17, 1674.24, 1676.09, 1673.7, 1673.95, 1674.58, 1681.21, 1673.99, 1675.05, 1674.33, 1675.85, 1675.84]
      },
      {
        "set": "SSE2", "var": 16,
        "times": [1926.78, 1950.69, 1880.83, 1840.7, 1845.17, 1936.4, 1926.74, 1946.66, 1931.91, 1933.06, 1931.35, 1944.23, 1955.03, 1958.33, 1953.85, 1943.52, 1947.5, 1945.31, 1931.88, 1942.1]
      },
      {
        "set": "SSE2", "var": 24,
        "times": [1600, 1608.51, 1597.09, 1597.31, 1570.73, 1601.92, 1603.12, 1571.97, 1586.11, 1602.66, 1571.49, 1571.06, 1571.94, 1573.56, 1572.66, 1573.99, 1573.52, 1571.7, 1598.26, 1608.79]
      },

      {
        "set": "AVX2", "var": 4,
        "times": [3025.74, 3024.07, 3022.69, 3021.48, 3023.82, 3020.05, 3023.22, 3022.51, 3023.29, 3023.99, 3025.11, 3023.15, 3027.77, 3036.09, 3036.34, 3037.55, 3028.53, 3022.3, 3023.7, 3021.51]
      },
      {
        "set": "AVX2", "var": 6,
        "times": [2198.54, 2201.48, 2200.71, 2199.24, 2201.47, 2199.29, 2199.52, 2198.51, 2200.24, 2200.55, 2199.11, 2198.62, 2202.01, 2200.25, 2199.06, 2200.69, 2201.07, 2200.37, 2202.19, 2201.69]
      },
      {
        "set": "AVX2", "var": 8,
        "times": [1784.03, 1779.54, 1780.14, 1779.95, 1780.96, 1780.13, 1779.15, 1781.32, 1781.73, 1779.24, 1778.26, 1778.7, 1779.39, 1778.98, 1780.47, 1778.21, 1779.1, 1779.15, 1778.74, 1781.67]
      },
      {
        "set": "AVX2", "var": 12,
        "times": [1099.93, 1102.43, 1101.05, 1099.28, 1100.76, 1100.87, 1103.63, 1099.59, 1100.01, 1100.86, 1099.79, 1099.51, 1099.25, 1098.91, 1098.53, 1100.97, 1103.62, 1101.48, 1101.02, 1100.32]
      },
      {
        "set": "AVX2", "var": 16,
        "times": [1249.37, 1333.55, 1337.82, 1242.73, 1252.22, 1334.98, 1326.56, 1231.3, 1329.47, 1263.11, 1344.89, 1228.97, 1252.53, 1244.1, 1330.15, 1263.08, 1239.46, 1331.89, 1258.33, 1329.27]
      },
      {
        "set": "AVX2", "var": 24,
        "times": [1091.88, 1090.87, 1092.2, 1083.36, 1081.19, 1087.09, 1083.53, 1089.84, 1082.48, 1086.57, 1080, 1082.75, 1076, 1078.12, 1080.71, 1078.67, 1078.18, 1080.68, 1084.5, 1082.19]
      },

      {
        "set": "AVX512", "var": 4,
        "times": [2281.35, 2283.79, 2281.86, 2282.8, 2283.69, 2281.49, 2285.3, 2290.3, 2287.64, 2286.79, 2285.71, 2286.17, 2281.72, 2289.88, 2291.84, 2294.89, 2291.44, 2285.27, 2283.88, 2286.8]
      },
      {
        "set": "AVX512", "var": 6,
        "times": [1724.88, 1727.2, 1724.54, 1724.87, 1723.24, 1721.55, 1730.32, 1720.91, 1719.62, 1724.75, 1725.36, 1724.19, 1723.31, 1721.06, 1720.21, 1722.66, 1721.18, 1722.89, 1721.7, 1720.83]
      },
      {
        "set": "AVX512", "var": 8,
        "times": [1440.95, 1442.25, 1442.98, 1443.98, 1440.8, 1448.19, 1439.83, 1439.01, 1437.17, 1445.5, 1441, 1442.52, 1442.45, 1439.12, 1440.02, 1438.92, 1443.2, 1439.77, 1442.01, 1439.85]
      },
      {
        "set": "AVX512", "var": 12,
        "times": [861.763, 861.988, 861.438, 862.5, 862.652, 861.994, 865.82, 864.116, 862.615, 861.901, 863.595, 864.26, 864.561, 864.71, 863.438, 863.707, 863.814, 862.602, 862.037, 863.503]
      },
      {
        "set": "AVX512", "var": 16,
        "times": [979.634, 965.909, 961.364, 988.494, 980.295, 968.245, 969.414, 1023.63, 1032.58, 977.499, 953.354, 963.021, 1030.72, 975.688, 981.216, 1029.63, 1020.8, 935.342, 1079.45, 1072.94]
      },
      {
        "set": "AVX512", "var": 24,
        "times": [854.9, 841.096, 847.298, 836.235, 854.202, 852.63, 852.639, 848.545, 846.821, 826.883, 833.988, 826.291, 825.233, 823.833, 843.369, 845.151, 838.757, 843.579, 854.237, 848.459]
      }
    ]
  },
  "transform": [
    { "flatten": [ "times" ] },
    {
      "aggregate": [
        { "op": "min", "field": "times", "as": "timem" },
        { "op": "max", "field": "times", "as": "timex" },
        { "op": "mean", "field": "times", "as": "timean" }
      ],
      "groupby": ["set", "var"]
    }
  ],
  "facet": {
    "row": {
      "field": "set", "type": "nominal",
      "header": { "title": "", "labelAngle": 0, "labelFontSize": 12 },
      "sort": [ "SSE2", "AVX2", "AVX512F" ]
    }
  },
  "spec": {
    "encoding": {
      "y": {
        "field": "var", "type": "ordinal",
        "axis": { "title": "Cores" },
        "sort": "ascending"
      }
    },
    "layer": [
      {
        "mark": { "type": "bar", "opacity": 0.6 },
        "height": { "step": 14 },
        "encoding": {
          "x": {
            "field": "timean", "type": "quantitative"
          },
          "color": {
            "field": "var", "type": "ordinal",
            "scale": { "range": [ "#0277bd", "#ffa000" ] },
            "legend": null,
            "sort": "ascending"
          }
        }
      },
      {
        "width": 400,
        "mark": { "type": "errorbar", "color": "#c66" },
        "encoding": {
          "x": {
            "field": "timem", "type": "quantitative",
            "axis": { "title": "Time [ms], lower is better", "grid": true }
          },
          "x2": {
            "field": "timex"
          },
          "size": { "value": 6 }
        }
      }
    ]
  }
}
